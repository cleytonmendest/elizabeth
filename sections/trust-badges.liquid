{%- comment -%}
  Seção de Trust Badges / Benefits Bar
  Exibe benefícios e garantias da loja para aumentar confiança

  Desktop: Sempre flex horizontal (lado a lado)
  Mobile: Grid 2 colunas / Grid 1 coluna / Slider (configurável)
{%- endcomment -%}

{%- liquid
  assign mobile_layout = section.settings.mobile_layout | default: 'grid-2'
-%}

<section
  class="trust-badges-section color-{{ section.settings.color_scheme }} color-background color-text"
  data-trust-badges
>
  <div class="container mx-auto px-4 md:px-6 lg:px-8 py-4 md:py-5">

    {%- comment -%} Desktop: Sempre flex horizontal {%- endcomment -%}
    <div class="hidden md:flex md:justify-center md:items-center md:gap-6 lg:gap-10">
      {% for block in section.blocks %}
        <div class="trust-badge-item text-center" {{ block.shopify_attributes }}>
          {% render 'trust-badge-item',
            block: block
          %}
        </div>
      {% endfor %}
    </div>

    {%- comment -%} Mobile: Grid 2 colunas {%- endcomment -%}
    {% if mobile_layout == 'grid-2' %}
      <div class="md:hidden grid grid-cols-2 gap-4">
        {% for block in section.blocks %}
          <div class="trust-badge-item text-center" {{ block.shopify_attributes }}>
            {% render 'trust-badge-item',
              block: block
            %}
          </div>
        {% endfor %}
      </div>

    {%- comment -%} Mobile: Grid 1 coluna {%- endcomment -%}
    {% elsif mobile_layout == 'grid-1' %}
      <div class="md:hidden grid grid-cols-1 gap-4">
        {% for block in section.blocks %}
          <div class="trust-badge-item text-center" {{ block.shopify_attributes }}>
            {% render 'trust-badge-item',
              block: block
            %}
          </div>
        {% endfor %}
      </div>

    {%- comment -%} Mobile: Slider {%- endcomment -%}
    {% elsif mobile_layout == 'slider' %}
      <div class="md:hidden">
        <my-slider
          data-items="{{ section.blocks.size }}"
          data-loop="true"
          data-autoplay="true"
          data-ap-time="4"
          data-pause-hover="true"
          data-dot="true"
          data-qty-desk="4"
          data-qty-tab="2"
          data-qty-mob="1"
        >
          <div class="my-slider__container overflow-hidden">
            {% for block in section.blocks %}
              <div class="trust-badge-item text-center" {{ block.shopify_attributes }}>
                {% render 'trust-badge-item',
                  block: block
                %}
              </div>
            {% endfor %}
          </div>
        </my-slider>
      </div>
    {% endif %}

  </div>
</section>

{% schema %}
{
  "name": "t:sections.trust_badges.name",
  "tag": "section",
  "class": "section-trust-badges",
  "max_blocks": 4,
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.trust_badges.settings.color_scheme.label",
      "default": "scheme-1",
      "info": "t:sections.trust_badges.settings.color_scheme.info"
    },
    {
      "type": "header",
      "content": "t:sections.trust_badges.settings.layout_header.content"
    },
    {
      "type": "select",
      "id": "mobile_layout",
      "label": "t:sections.trust_badges.settings.mobile_layout.label",
      "options": [
        {
          "value": "grid-2",
          "label": "t:sections.trust_badges.settings.mobile_layout.options.grid_2"
        },
        {
          "value": "grid-1",
          "label": "t:sections.trust_badges.settings.mobile_layout.options.grid_1"
        },
        {
          "value": "slider",
          "label": "t:sections.trust_badges.settings.mobile_layout.options.slider"
        }
      ],
      "default": "grid-2",
      "info": "t:sections.trust_badges.settings.mobile_layout.info"
    }
  ],
  "blocks": [
    {
      "type": "badge",
      "name": "t:sections.trust_badges.blocks.badge.name",
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "label": "t:sections.trust_badges.blocks.badge.settings.icon.label",
          "options": [
            {
              "value": "truck",
              "label": "t:sections.trust_badges.blocks.badge.settings.icon.options.truck"
            },
            {
              "value": "shield",
              "label": "t:sections.trust_badges.blocks.badge.settings.icon.options.shield"
            },
            {
              "value": "refresh",
              "label": "t:sections.trust_badges.blocks.badge.settings.icon.options.refresh"
            },
            {
              "value": "credit-card",
              "label": "t:sections.trust_badges.blocks.badge.settings.icon.options.credit_card"
            },
            {
              "value": "star",
              "label": "t:sections.trust_badges.blocks.badge.settings.icon.options.star"
            },
            {
              "value": "check-circle",
              "label": "t:sections.trust_badges.blocks.badge.settings.icon.options.check_circle"
            },
            {
              "value": "lock",
              "label": "t:sections.trust_badges.blocks.badge.settings.icon.options.lock"
            },
            {
              "value": "clock",
              "label": "t:sections.trust_badges.blocks.badge.settings.icon.options.clock"
            }
          ],
          "default": "truck"
        },
        {
          "type": "text",
          "id": "title",
          "label": "t:sections.trust_badges.blocks.badge.settings.title.label"
        },
        {
          "type": "text",
          "id": "description",
          "label": "t:sections.trust_badges.blocks.badge.settings.description.label",
          "info": "t:sections.trust_badges.blocks.badge.settings.description.info"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "t:sections.trust_badges.presets.name",
      "blocks": [
        {
          "type": "badge",
          "settings": {
            "icon": "truck",
            "title": "Frete Grátis",
            "description": "Em compras acima de R$ 299"
          }
        },
        {
          "type": "badge",
          "settings": {
            "icon": "refresh",
            "title": "Troca Facilitada",
            "description": "Até 30 dias"
          }
        },
        {
          "type": "badge",
          "settings": {
            "icon": "shield",
            "title": "Compra Segura",
            "description": "100% protegida"
          }
        },
        {
          "type": "badge",
          "settings": {
            "icon": "credit-card",
            "title": "Parcele sem Juros",
            "description": "Em até 3x no cartão"
          }
        }
      ]
    }
  ]
}
{% endschema %}
