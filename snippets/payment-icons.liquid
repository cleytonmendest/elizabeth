{%- comment -%}
  Ícones de Formas de Pagamento

  Parâmetros:
  - block: bloco com configurações (opcional)
  - show_title: mostrar título (default: true)
  - title: título customizado (default: "Formas de Pagamento")
  - icon_style: estilo dos ícones - color ou grayscale (default: color)
  - size: tamanho dos ícones - small, medium, large (default: medium)
{%- endcomment -%}

{%- liquid
  if block
    assign show_title = block.settings.show_title
    assign title = block.settings.title
    assign icon_style = block.settings.icon_style
    assign size = block.settings.icon_size
  else
    assign show_title = show_title | default: true
    assign title = title | default: 'Formas de Pagamento'
    assign icon_style = icon_style | default: 'color'
    assign size = size | default: 'medium'
  endif

  assign icon_height = 24
  if size == 'small'
    assign icon_height = 20
  elsif size == 'large'
    assign icon_height = 32
  endif

  assign grayscale_class = ''
  if icon_style == 'grayscale'
    assign grayscale_class = 'grayscale opacity-60 hover:grayscale-0 hover:opacity-100 transition-all'
  endif
-%}

<div class="payment-icons my-4" {% if block %}{{ block.shopify_attributes }}{% endif %}>
  {% if show_title %}
    <p class="text-sm font-medium text-gray-700 mb-3">{{ title }}</p>
  {% endif %}

  <div class="flex flex-wrap items-center gap-2">
    {%- comment -%} Visa {%- endcomment -%}
    <div class="payment-icon {{ grayscale_class }}" title="Visa">
      <svg height="{{ icon_height }}" viewBox="0 0 48 32" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="48" height="32" rx="4" fill="#1434CB"/>
        <path d="M20.51 21.5h-2.91l1.82-11.22h2.91L20.51 21.5zm-5.17 0l-2.73-8.94-.33 1.65-.01.04-1.19 6.1-.01.06h-.01l-.06.31-.04.18-.01.05-.04.18-.01.06-.01.05-.02.11-.02.09-.01.06-.02.09-.01.06-.01.05-.01.06-.02.09-.01.06-.01.05-.02.09-.01.06-.02.09-.01.06-.01.05-.02.09-.01.06-.02.09-.01.06-.01.05-.02.09-.01.06-.02.09-.01.06-.01.05-.02.09-.01.06-.02.09-.01.06-.01.05-.02.09-.01.06-.02.09-.01.06-.01.05-.02.09h-2.99l2.43-11.22h2.82l2.73 8.47.25-1.27 1.59-7.2h2.94l-2.73 11.22h-2.81zm14.42 0h2.69l-2.34-11.22h-2.48c-.56 0-1.03.32-1.24.82l-4.37 10.4h3.06l.61-1.68h3.74l.35 1.68zm-3.25-3.99l1.54-4.26.89 4.26h-2.43zm7.85-3.63c0-1.03.78-1.65 2.06-1.65.74 0 1.33.15 1.74.31l.31-1.92c-.47-.18-1.19-.35-2.07-.35-3.06 0-5.21 1.63-5.21 3.96 0 1.72 1.54 2.68 2.71 3.25 1.21.59 1.62 .96 1.62 1.49 0 .81-.97 1.18-1.87 1.18-.82 0-1.76-.21-2.27-.5l-.32 1.96c.54.25 1.53.46 2.56.46 3.26 0 5.37-1.61 5.37-4.11 0-2.71-3.77-2.86-3.77-4.08h.14z" fill="white"/>
      </svg>
    </div>

    {%- comment -%} Mastercard {%- endcomment -%}
    <div class="payment-icon {{ grayscale_class }}" title="Mastercard">
      <svg height="{{ icon_height }}" viewBox="0 0 48 32" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="48" height="32" rx="4" fill="#000"/>
        <circle cx="18" cy="16" r="7" fill="#EB001B"/>
        <circle cx="30" cy="16" r="7" fill="#FF5F00"/>
        <path d="M24 11.2c1.3 1.3 2.1 3.1 2.1 5.1s-.8 3.8-2.1 5.1c-1.3-1.3-2.1-3.1-2.1-5.1s.8-3.8 2.1-5.1z" fill="#F79E1B"/>
      </svg>
    </div>

    {%- comment -%} Elo {%- endcomment -%}
    <div class="payment-icon {{ grayscale_class }}" title="Elo">
      <svg height="{{ icon_height }}" viewBox="0 0 48 32" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="48" height="32" rx="4" fill="#000"/>
        <path d="M16.5 12c-1.4 0-2.5 1.1-2.5 2.5v3c0 1.4 1.1 2.5 2.5 2.5h15c1.4 0 2.5-1.1 2.5-2.5v-3c0-1.4-1.1-2.5-2.5-2.5h-15z" fill="#FFCB05"/>
        <path d="M21 16.5c0 1.4-1.1 2.5-2.5 2.5S16 17.9 16 16.5 17.1 14 18.5 14s2.5 1.1 2.5 2.5z" fill="#000"/>
      </svg>
    </div>

    {%- comment -%} American Express {%- endcomment -%}
    <div class="payment-icon {{ grayscale_class }}" title="American Express">
      <svg height="{{ icon_height }}" viewBox="0 0 48 32" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="48" height="32" rx="4" fill="#006FCF"/>
        <path d="M10 12h4.5l1 2.5 1-2.5H21v8h-3v-4.5l-1.5 3h-1.5l-1.5-3V20h-3.5v-8zm18 0h7v2h-4v1h4v2h-4v1h4v2h-7v-8z" fill="white"/>
      </svg>
    </div>

    {%- comment -%} Hipercard {%- endcomment -%}
    <div class="payment-icon {{ grayscale_class }}" title="Hipercard">
      <svg height="{{ icon_height }}" viewBox="0 0 48 32" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="48" height="32" rx="4" fill="#A6171F"/>
        <path d="M14 11h3v10h-3V11zm7 0h3v4h4v-4h3v10h-3v-4h-4v4h-3V11z" fill="white"/>
      </svg>
    </div>

    {%- comment -%} Diners Club {%- endcomment -%}
    <div class="payment-icon {{ grayscale_class }}" title="Diners Club">
      <svg height="{{ icon_height }}" viewBox="0 0 48 32" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="48" height="32" rx="4" fill="#0079BE"/>
        <circle cx="19" cy="16" r="6" fill="white"/>
        <circle cx="29" cy="16" r="6" fill="white"/>
        <path d="M19 10c-3.3 0-6 2.7-6 6s2.7 6 6 6v-12zm10 0v12c3.3 0 6-2.7 6-6s-2.7-6-6-6z" fill="#0079BE"/>
      </svg>
    </div>

    {%- comment -%} PIX {%- endcomment -%}
    <div class="payment-icon {{ grayscale_class }}" title="PIX">
      <svg height="{{ icon_height }}" viewBox="0 0 48 32" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="48" height="32" rx="4" fill="#32BCAD"/>
        <path d="M24 11l4 4-4 4-4-4 4-4zm0 2.83L21.17 16 24 18.83 26.83 16 24 13.83zm-7 .17l2 2-2 2-2-2 2-2zm14 0l2 2-2 2-2-2 2-2zM24 19l4 4-4 4-4-4 4-4z" fill="white"/>
      </svg>
    </div>

    {%- comment -%} Boleto {%- endcomment -%}
    <div class="payment-icon {{ grayscale_class }}" title="Boleto Bancário">
      <svg height="{{ icon_height }}" viewBox="0 0 48 32" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="48" height="32" rx="4" fill="#FF6900"/>
        <rect x="12" y="11" width="1.5" height="10" fill="white"/>
        <rect x="14.5" y="11" width="2.5" height="10" fill="white"/>
        <rect x="18" y="11" width="1" height="10" fill="white"/>
        <rect x="20" y="11" width="1.5" height="10" fill="white"/>
        <rect x="22.5" y="11" width="2" height="10" fill="white"/>
        <rect x="25.5" y="11" width="1" height="10" fill="white"/>
        <rect x="27.5" y="11" width="2.5" height="10" fill="white"/>
        <rect x="31" y="11" width="1" height="10" fill="white"/>
        <rect x="33" y="11" width="1.5" height="10" fill="white"/>
        <rect x="35.5" y="11" width="1" height="10" fill="white"/>
      </svg>
    </div>
  </div>

  {%- comment -%} Texto adicional opcional {%- endcomment -%}
  {% if block and block.settings.show_installment_text %}
    <p class="text-xs text-gray-600 mt-2">
      {{ block.settings.installment_text | default: 'Parcele em até 6x sem juros no cartão de crédito' }}
    </p>
  {% endif %}
</div>
